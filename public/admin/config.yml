# =============================================================================
# DECAP CMS CONFIGURATION (ENHANCED UX v1.2)
# Analytics Portfolio Platform
# Production-Safe with Field Grouping & Validation
# =============================================================================

# -----------------------------------------------------------------------------
# BACKEND CONFIGURATION
# -----------------------------------------------------------------------------
backend:
  name: git-gateway
  branch: main
  commit_messages:
    create: 'feat(content): create {{collection}} "{{slug}}"'
    update: 'fix(content): update {{collection}} "{{slug}}"'
    delete: 'chore(content): delete {{collection}} "{{slug}}"'
    uploadMedia: 'feat(media): upload "{{path}}"'
    deleteMedia: 'chore(media): delete "{{path}}"'

# -----------------------------------------------------------------------------
# EDITORIAL WORKFLOW
# -----------------------------------------------------------------------------
publish_mode: editorial_workflow

# -----------------------------------------------------------------------------
# MEDIA CONFIGURATION (Global fallback)
# -----------------------------------------------------------------------------
media_folder: "public/uploads"
public_folder: "/uploads"

# -----------------------------------------------------------------------------
# SITE CONFIGURATION
# -----------------------------------------------------------------------------
site_url: https://your-site.netlify.app
display_url: https://your-site.netlify.app
logo_url: /admin/logo.svg

# Slug configuration
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "-"

# -----------------------------------------------------------------------------
# COLLECTIONS
# -----------------------------------------------------------------------------
collections:
  # ===========================================================================
  # POWER BI PROJECTS
  # ===========================================================================
  - name: "powerbi"
    label: "ğŸ“Š Power BI Projects"
    label_singular: "Power BI Project"
    description: "Interactive Power BI dashboards and business intelligence solutions"
    icon: "chart-bar"
    folder: "content/powerbi"
    create: true
    delete: true
    slug: "{{slug}}"
    preview_path: "powerbi/{{slug}}"
    summary: "{{title}} â€¢ {{status}} {{#if featured}}â­{{/if}}"
    sortable_fields: ["order", "date", "title"]
    # Collection-specific media
    media_folder: "/public/uploads/powerbi"
    public_folder: "/uploads/powerbi"
    # View filters for quick filtering
    view_filters:
      - label: "âœ… Published"
        field: status
        pattern: "published"
      - label: "ğŸ“ Drafts"
        field: status
        pattern: "draft"
      - label: "â­ Featured"
        field: featured
        pattern: true
    view_groups:
      - label: "Status"
        field: status
      - label: "Year"
        field: date
        pattern: '\d{4}'
    fields:
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # BASIC INFORMATION
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - label: "ğŸ“Œ Basic Information"
        name: "basic_info"
        widget: "object"
        summary: "{{fields.title}}"
        collapsed: false
        fields:
          - label: "Title"
            name: "title"
            widget: "string"
            required: true
            hint: "Project title displayed on cards and detail pages"
            pattern:
              - '.{5,100}'
              - "Title must be 5-100 characters"

          - label: "Description"
            name: "description"
            widget: "text"
            required: true
            hint: "Brief 2-3 sentence summary for project cards"
            pattern:
              - '.{20,500}'
              - "Description must be 20-500 characters"

          - label: "Project Date"
            name: "date"
            widget: "datetime"
            required: true
            date_format: "YYYY-MM-DD"
            time_format: false
            format: "YYYY-MM-DD"
            hint: "When was this project completed?"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # MEDIA ASSETS
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - label: "ğŸ–¼ï¸ Media Assets"
        name: "media"
        widget: "object"
        summary: "{{#if fields.thumbnail}}âœ“ Thumbnail{{/if}}{{#if fields.video}} â€¢ âœ“ Video{{/if}}"
        collapsed: false
        fields:
          - label: "Thumbnail Image"
            name: "thumbnail"
            widget: "image"
            required: true
            hint: "Project preview image (recommended: 1200Ã—675px, max 1MB)"
            media_library:
              config:
                max_file_size: 1048576

          - label: "Demo Video"
            name: "video"
            widget: "file"
            required: false
            hint: "Optional walkthrough video (MP4, max 50MB)"
            media_library:
              config:
                max_file_size: 52428800

          - label: "PDF Report"
            name: "pdf"
            widget: "file"
            required: false
            hint: "Optional PDF export of the dashboard"
            media_library:
              config:
                max_file_size: 10485760

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # POWER BI EMBED
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - label: "ğŸ”— Power BI Embed"
        name: "embed"
        widget: "object"
        summary: "{{#if fields.powerbi_embed_url}}âœ“ Embed configured{{else}}No embed{{/if}}"
        collapsed: true
        fields:
          - label: "Embed URL"
            name: "powerbi_embed_url"
            widget: "string"
            required: false
            hint: "Power BI 'Publish to web' embed URL. Leave empty if not available."
            pattern:
              - '^(https://app\.powerbi\.com/.*|)$'
              - "Must be a valid Power BI embed URL or empty"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # CATEGORIZATION
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - label: "ğŸ·ï¸ Categorization"
        name: "categorization"
        widget: "object"
        summary: "{{fields.tools | join(', ')}}"
        collapsed: false
        fields:
          - label: "Tools & Technologies"
            name: "tools"
            widget: "list"
            required: true
            hint: "Add all tools used (Power BI, DAX, Power Query, SQL, etc.)"
            default:
              - "Power BI"
            field:
              name: "tool"
              widget: "string"

          - label: "Tags"
            name: "tags"
            widget: "list"
            required: false
            hint: "Add tags for filtering (Sales, Finance, HR, Executive, etc.)"
            field:
              name: "tag"
              widget: "string"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # DISPLAY SETTINGS
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - label: "âš™ï¸ Display Settings"
        name: "display"
        widget: "object"
        summary: "Order: {{fields.order}} â€¢ Status: {{fields.status}}"
        collapsed: false
        fields:
          - label: "Display Order"
            name: "order"
            widget: "number"
            required: true
            default: 10
            min: 0
            max: 100
            hint: "Lower numbers appear first (0-100). Use multiples of 10 for easy reordering."

          - label: "Status"
            name: "status"
            widget: "select"
            options:
              - { label: "ğŸ“ Draft (hidden from site)", value: "draft" }
              - { label: "âœ… Published (visible on site)", value: "published" }
            default: "draft"
            required: true
            hint: "Only published projects appear on the frontend"

          - label: "Featured"
            name: "featured"
            widget: "boolean"
            default: false
            required: false
            hint: "Featured projects appear on the homepage"

      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      # DETAILED CONTENT
      # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      - label: "ğŸ“ Detailed Content"
        name: "body"
        widget: "markdown"
        required: false
        hint: "Add detailed project description, methodology, insights, and key findings"
        modes:
          - raw
          - rich_text
        editor_components:
          - image
          - code-block

  # ===========================================================================
  # TABLEAU PROJECTS
  # ===========================================================================
  - name: "tableau"
    label: "ğŸ“ˆ Tableau Projects"
    label_singular: "Tableau Project"
    description: "Interactive Tableau visualizations and analytical dashboards"
    icon: "presentation-chart-line"
    folder: "content/tableau"
    create: true
    delete: true
    slug: "{{slug}}"
    preview_path: "tableau/{{slug}}"
    summary: "{{title}} â€¢ {{status}} {{#if featured}}â­{{/if}}"
    sortable_fields: ["order", "date", "title"]
    media_folder: "/public/uploads/tableau"
    public_folder: "/uploads/tableau"
    view_filters:
      - label: "âœ… Published"
        field: status
        pattern: "published"
      - label: "ğŸ“ Drafts"
        field: status
        pattern: "draft"
      - label: "â­ Featured"
        field: featured
        pattern: true
    view_groups:
      - label: "Status"
        field: status
    fields:
      # Basic Information
      - label: "ğŸ“Œ Basic Information"
        name: "basic_info"
        widget: "object"
        collapsed: false
        fields:
          - label: "Title"
            name: "title"
            widget: "string"
            required: true
            hint: "Project title"
            pattern: ['.{5,100}', "Title must be 5-100 characters"]

          - label: "Description"
            name: "description"
            widget: "text"
            required: true
            hint: "Brief summary for project cards"
            pattern: ['.{20,500}', "Description must be 20-500 characters"]

          - label: "Project Date"
            name: "date"
            widget: "datetime"
            required: true
            date_format: "YYYY-MM-DD"
            time_format: false
            format: "YYYY-MM-DD"

      # Media Assets
      - label: "ğŸ–¼ï¸ Media Assets"
        name: "media"
        widget: "object"
        collapsed: false
        fields:
          - label: "Thumbnail"
            name: "thumbnail"
            widget: "image"
            required: true
            hint: "Project preview (1200Ã—675px, max 1MB)"
            media_library:
              config:
                max_file_size: 1048576

          - label: "Demo Video"
            name: "video"
            widget: "file"
            required: false
            hint: "Optional walkthrough (MP4)"

          - label: "PDF Report"
            name: "pdf"
            widget: "file"
            required: false

      # Tableau Embed
      - label: "ğŸ”— Tableau Public Embed"
        name: "embed"
        widget: "object"
        collapsed: true
        fields:
          - label: "Tableau Public URL"
            name: "powerbi_embed_url"
            widget: "string"
            required: false
            hint: "Tableau Public embed URL"

      # Categorization
      - label: "ğŸ·ï¸ Categorization"
        name: "categorization"
        widget: "object"
        collapsed: false
        fields:
          - label: "Tools"
            name: "tools"
            widget: "list"
            required: true
            default: ["Tableau"]
            field: { name: "tool", widget: "string" }

          - label: "Tags"
            name: "tags"
            widget: "list"
            required: false
            field: { name: "tag", widget: "string" }

      # Display Settings
      - label: "âš™ï¸ Display Settings"
        name: "display"
        widget: "object"
        collapsed: false
        fields:
          - label: "Order"
            name: "order"
            widget: "number"
            required: true
            default: 10
            min: 0
            max: 100
            hint: "Lower = appears first"

          - label: "Status"
            name: "status"
            widget: "select"
            options:
              - { label: "ğŸ“ Draft", value: "draft" }
              - { label: "âœ… Published", value: "published" }
            default: "draft"
            required: true

          - label: "Featured"
            name: "featured"
            widget: "boolean"
            default: false

      # Content
      - label: "ğŸ“ Detailed Content"
        name: "body"
        widget: "markdown"
        required: false

  # ===========================================================================
  # EXCEL PROJECTS
  # ===========================================================================
  - name: "excel"
    label: "ğŸ“‘ Excel Projects"
    label_singular: "Excel Project"
    description: "Advanced Excel models, templates, and automation solutions"
    icon: "table-cells"
    folder: "content/excel"
    create: true
    delete: true
    slug: "{{slug}}"
    preview_path: "excel/{{slug}}"
    summary: "{{title}} â€¢ {{status}} {{#if featured}}â­{{/if}}"
    sortable_fields: ["order", "date", "title"]
    media_folder: "/public/uploads/excel"
    public_folder: "/uploads/excel"
    view_filters:
      - label: "âœ… Published"
        field: status
        pattern: "published"
      - label: "ğŸ“ Drafts"
        field: status
        pattern: "draft"
      - label: "â­ Featured"
        field: featured
        pattern: true
    view_groups:
      - label: "Status"
        field: status
    fields:
      # Basic Information
      - label: "ğŸ“Œ Basic Information"
        name: "basic_info"
        widget: "object"
        collapsed: false
        fields:
          - label: "Title"
            name: "title"
            widget: "string"
            required: true
            pattern: ['.{5,100}', "Title must be 5-100 characters"]

          - label: "Description"
            name: "description"
            widget: "text"
            required: true
            pattern: ['.{20,500}', "Description must be 20-500 characters"]

          - label: "Project Date"
            name: "date"
            widget: "datetime"
            required: true
            date_format: "YYYY-MM-DD"
            time_format: false
            format: "YYYY-MM-DD"

      # Media Assets
      - label: "ğŸ–¼ï¸ Media Assets"
        name: "media"
        widget: "object"
        collapsed: false
        fields:
          - label: "Thumbnail"
            name: "thumbnail"
            widget: "image"
            required: true
            media_library:
              config:
                max_file_size: 1048576

          - label: "Demo Video"
            name: "video"
            widget: "file"
            required: false

          - label: "PDF Report"
            name: "pdf"
            widget: "file"
            required: false

      # Downloadable File
      - label: "ğŸ“¥ Downloadable File"
        name: "download"
        widget: "object"
        collapsed: true
        fields:
          - label: "Excel File"
            name: "powerbi_embed_url"
            widget: "file"
            required: false
            hint: "Upload the Excel file for users to download"
            media_library:
              config:
                max_file_size: 10485760

      # Categorization
      - label: "ğŸ·ï¸ Categorization"
        name: "categorization"
        widget: "object"
        collapsed: false
        fields:
          - label: "Tools"
            name: "tools"
            widget: "list"
            required: true
            default: ["Excel"]
            field: { name: "tool", widget: "string" }

          - label: "Tags"
            name: "tags"
            widget: "list"
            required: false
            field: { name: "tag", widget: "string" }

      # Display Settings
      - label: "âš™ï¸ Display Settings"
        name: "display"
        widget: "object"
        collapsed: false
        fields:
          - label: "Order"
            name: "order"
            widget: "number"
            required: true
            default: 10
            min: 0
            max: 100

          - label: "Status"
            name: "status"
            widget: "select"
            options:
              - { label: "ğŸ“ Draft", value: "draft" }
              - { label: "âœ… Published", value: "published" }
            default: "draft"
            required: true

          - label: "Featured"
            name: "featured"
            widget: "boolean"
            default: false

      # Content
      - label: "ğŸ“ Detailed Content"
        name: "body"
        widget: "markdown"
        required: false

  # ===========================================================================
  # SITE SETTINGS
  # ===========================================================================
  - name: "settings"
    label: "âš™ï¸ Site Settings"
    description: "Global site configuration"
    files:
      - name: "general"
        label: "General Settings"
        file: "content/settings/general.json"
        fields:
          - label: "ğŸŒ Site Information"
            name: "site"
            widget: "object"
            fields:
              - label: "Site Title"
                name: "title"
                widget: "string"
                default: "Analytics Portfolio"

              - label: "Site Description"
                name: "description"
                widget: "text"
                default: "Professional analytics portfolio showcasing data visualization expertise"

          - label: "ğŸ‘¤ Personal Information"
            name: "personal"
            widget: "object"
            fields:
              - label: "Your Name"
                name: "author"
                widget: "string"

              - label: "Job Title"
                name: "role"
                widget: "string"
                default: "Data Analyst | Power BI Developer"

          - label: "ğŸ“¬ Contact Links"
            name: "contact"
            widget: "object"
            fields:
              - label: "Email"
                name: "email"
                widget: "string"
                required: false
                hint: "Your professional email address"

              - label: "LinkedIn URL"
                name: "linkedin"
                widget: "string"
                required: false
                hint: "Full LinkedIn profile URL"

              - label: "GitHub URL"
                name: "github"
                widget: "string"
                required: false
                hint: "Full GitHub profile URL"
